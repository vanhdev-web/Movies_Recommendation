# Movies Recommendation System üé¨

## Description

This repository contains a movie recommendation system built using Python, scikit-learn, pandas, and Streamlit. The system suggests top movies related to a user's favorite movie based on genre similarity. It leverages TF-IDF vectorization and cosine similarity to provide recommendations.

You can try out the website right here ‚≠ê : https://moives-recommendation-system.streamlit.app/

## Features and Functionality

*   **Movie Title Input:** Users can select a movie title from a dropdown list powered by the `movies.csv` file.
*   **Genre-Based Recommendation:** The system recommends movies with similar genres to the selected movie.
*   **Similarity Calculation:** Uses TF-IDF Vectorizer and cosine similarity to determine the similarity between movies based on their genres.
*   **Streamlit Interface:** Provides a user-friendly web interface using the Streamlit library.
*   **"Xem th√™m" button:** Loads 10 more movies each time it's clicked, up to a maximum of 30 additional recommendations.

## Technology Stack

*   Python 3.x
*   Streamlit
*   Pandas
*   Scikit-learn (sklearn)
*   ydata-profiling (optional, for generating the HTML report)

## Prerequisites

Before running the application, ensure you have the following installed:

*   Python 3.6 or higher
*   Pip package installer

## Installation Instructions

1.  **Clone the repository:**

    ```bash
    git clone https://github.com/vanhdev-web/Movies_Recommendation
    cd Movies_Recommendation
    ```

2.  **Install the required packages:**

    ```bash
    pip install streamlit pandas scikit-learn ydata-profiling
    ```

    Note: `ydata-profiling` is optional and only needed to generate the HTML report. You can omit it if you only want to run the recommendation system.

## Usage Guide

1.  **Run the Streamlit application:**

    ```bash
    streamlit run app.py
    ```

2.  **Access the application:**
    Open your web browser and navigate to the URL provided by Streamlit (usually `http://localhost:8501`).

3.  **Select a movie:**
    Use the dropdown menu to select a movie title.

4.  **View recommendations:**
    The system will display a table of top movies similar to the selected movie.
5.  **Load More Recommendations**
    Click on "Xem th√™m" button to load 10 more recommendations (max 3 clicks).

## File Structure and Explanation

*   `app.py`: Contains the Streamlit application code for the user interface and recommendation display.
*   `movies_recommendation.py`: Contains the movie recommendation logic, including data loading, feature extraction, and similarity calculation.
*   `movies.csv`: Dataset of movies, tab-separated, with columns for `movie_id`, `title`, and `genres`. Example:

    ```
    1	Toy Story (1995)	Animation|Children's|Comedy
    2	Jumanji (1995)	Adventure|Children's|Fantasy
    ```
*   `movies_recommendation_report.html`: (Optional) HTML report generated by `ydata-profiling` for data exploration.

## Code Snippets and Details

### `app.py`

```python
import streamlit as st
from movies_recommendation import data, recommend
import pandas as pd

st.title("Movie Recommendation System üé¨")

# chu·∫©n h√≥a c·ªôt title
data["title"] = data["title"].str.strip()

movie_list = data["title"].tolist()
selected_movie = st.selectbox("Nh·∫≠p t√™n phim:", movie_list)

# kh·ªüi t·∫°o session_state
if "show_count" not in st.session_state:
    st.session_state.show_count = 10  # m·∫∑c ƒë·ªãnh hi·ªÉn th·ªã 10 phim
if "load_more_count" not in st.session_state:
    st.session_state.load_more_count = 0  # ƒë·∫øm s·ªë l·∫ßn nh·∫•n xem th√™m

if selected_movie:
    st.subheader(f"Top phim gi·ªëng v·ªõi {selected_movie}:")

    all_recommendations = recommend(selected_movie, top_n=50)
    top_titles = [t.strip() for t in all_recommendations.index]

    rec_df = pd.DataFrame({"Movie": top_titles[: st.session_state.show_count]})
    rec_df = rec_df.merge(data[["title", "genres"]], left_on="Movie", right_on="title", how="left")
    rec_df = rec_df.drop(columns=["title"])
    rec_df["genres"] = rec_df["genres"].apply(lambda x: x.replace(" ", " / "))
    rec_df = rec_df.rename(columns={"genres": "Genres"})
    rec_df = rec_df.reset_index(drop=True)

    st.table(rec_df)

    # n√∫t xem th√™m ch·ªâ ho·∫°t ƒë·ªông t·ªëi ƒëa 3 l·∫ßn
    if st.session_state.load_more_count < 3:
        if st.button("Xem th√™m"):
            st.session_state.show_count += 10
            st.session_state.load_more_count += 1
            st.rerun()
    else:
        st.info("B·∫°n ƒë√£ xem h·∫øt s·ªë phim ƒë∆∞·ª£c ph√©p hi·ªÉn th·ªã th√™m.")
```

This script:

*   Imports necessary libraries.
*   Sets the app title.
*   Creates a dropdown using `st.selectbox` populated with movie titles from the dataset.
*   Defines a `recommend` function (imported from `movies_recommendation.py`) that generates movie recommendations.
*   Displays the recommendations in a Streamlit table.
*   Implements a "Xem th√™m" button to load more recommendations. The recommendations displayed increase by 10 movies every click, limited to 3 clicks.

### `movies_recommendation.py`

```python
# from ydata_profiling import ProfileReport
import pandas as pd
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.metrics.pairwise import cosine_similarity

data = pd.read_csv('movies.csv', encoding="latin-1", sep = "\t")

# # data visulization to HTML
# profile = ProfileReport(data, title="Movie Recommendation Report", explorative=True)
# profile.to_file('movies_recommendation_report.html')

def split_genres(genres):
    genres = genres.replace("|", " ")
    genres = genres.replace("-","")
    return genres

data["genres"] = data["genres"].apply(split_genres)

vectorize = TfidfVectorizer()
tfidf_matrix = vectorize.fit_transform(data["genres"])
# tfidf_matrix_dense =  pd.DataFrame(tfidf_matrix.todense(), index = data["title"], columns = vectorize.get_feature_names_out())

cosine_sim = cosine_similarity(tfidf_matrix)
cosine_sim_dense = pd.DataFrame(cosine_sim, index = data["title"], columns = data["title"])


def recommend(movie_name, top_n=10):
    movie_name = movie_name.strip()  # chu·∫©n h√≥a
    if movie_name not in cosine_sim_dense.index:
        return pd.Series()

    result = cosine_sim_dense.loc[movie_name]
    top_movies = result.sort_values(ascending=False).head(top_n + 1)

    # b·ªè phim g·ªëc m·ªôt c√°ch an to√†n
    top_movies = top_movies.drop(movie_name, errors="ignore")

    return top_movies
```

This script:

*   Loads the `movies.csv` dataset using pandas.
*   Defines a `split_genres` function to preprocess the `genres` column.
*   Creates the TF-IDF matrix.
*   Calculates the cosine similarity matrix.
*   Implements the `recommend` function, which takes a movie title as input and returns a pandas Series of top similar movie titles, dropping the original title in the output.

## Contributing Guidelines

Contributions to this project are welcome! Please follow these guidelines:

1.  Fork the repository.
2.  Create a new branch for your feature or bug fix: `git checkout -b feature/your-feature-name`
3.  Make your changes and commit them with descriptive messages.
4.  Test your changes thoroughly.
5.  Push your branch to your fork: `git push origin feature/your-feature-name`
6.  Submit a pull request to the `main` branch of the original repository.

## License Information

This project has no specified license. All rights are reserved.

## Contact/Support Information

For questions, bug reports, or feature requests, please contact:

*   vanhdev-web through GitHub or create an issue.